---
- name: dotfiles template files
  template: src={{ ansible_env.PWD }}/roles/dotfiles/templates/{{ item }}
        dest={{ ansible_env.PWD }}/roles/dotfiles/files/{{ item }}
        force=yes
  with_items: '{{ templates }}'

- name: dotfiles symlink common files
  file: src={{ ansible_env.PWD }}/roles/dotfiles/files/{{ item }}
        path=~/{{ item }}
        state=link
        force=yes
        follow=false
  with_items: '{{ common_files }}'

# os specific tasks
- import_tasks: darwin.yml
  when: ansible_os_family == "Darwin" and darwin_files is defined
- import_tasks: archlinux.yml
  when: ansible_os_family == "Archlinux" and archlinux_files is defined

- import_tasks: vim.yml
